<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao Browser Detection</title>
    <script>
       document.addEventListener("DOMContentLoaded", function () {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            const isKakaoBrowser = userAgent.includes("KAKAOTALK");
            const isAndroid = /Android/i.test(userAgent);
            const isIOS = /iPhone|iPad|iPod/i.test(userAgent);
        
            if (isKakaoBrowser) {
                if (isAndroid) {
                    // 尝试使用 iframe 来打开 Naver APP
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.src = "intent://default#Intent;scheme=naversearchapp;package=com.nhn.android.search;S.browser_fallback_url=https://play.google.com/store/apps/details?id=com.nhn.android.search;end";
                    document.body.appendChild(iframe);
        
                    // 设定一个超时，如果 iframe 没有工作则跳转到浏览器的下载页面
                    setTimeout(function () {
                        window.location.href = "https://play.google.com/store/apps/details?id=com.nhn.android.search";
                    }, 2000);
                } else if (isIOS) {
                    // iOS设备尝试使用通用链接打开 Naver APP
                    window.location.href = "naversearchapp://";
                }
            } else {
                // 不在 Kakao 内嵌浏览器中，直接跳转到指定链接
                window.location.href = "https://your-target-link.com";
            }
        });

    </script>
</head>
<body>
</body>
</html>
