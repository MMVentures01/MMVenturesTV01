<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao Browser Detection</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            const isKakaoBrowser = userAgent.includes("KAKAOTALK");
            const isAndroid = /Android/i.test(userAgent);
            const isIOS = /iPhone|iPad|iPod/i.test(userAgent);
            const isSamsung = /SamsungBrowser/i.test(userAgent) || /SM-|SCH-|GT-|SGH-|Galaxy/i.test(userAgent);

            if (isKakaoBrowser) {
                if (isAndroid) {
                    // 尝试使用多种方法打开 Naver 应用
                    // 方法 1: 使用 Intent URL
                    window.location.href = "intent://default#Intent;scheme=naversearchapp;package=com.nhn.android.search;action=android.intent.action.VIEW;end";

                    // 方法 2: 使用 Naver 应用的 URI Scheme
                    setTimeout(function () {
                        window.location.href = "naversearchapp://default";
                    }, 1000);

                    // 方法 3: 使用 Google Play Store 链接作为最终备选方案
                    setTimeout(function () {
                        if (document.visibilityState !== 'hidden') {
                            window.location.href = "https://play.google.com/store/apps/details?id=com.nhn.android.search";
                        }
                    }, 2000);
                } else if (isIOS) {
                    // iOS设备可使用通用链接尝试打开 Naver APP
                    window.location.href = "naversearchapp://";
                }
            } else {
                // 不在 Kakao 内嵌浏览器中，直接跳转到指定链接
                window.location.href = "https://your-target-link.com";
            }
        });
    </script>
</head>
<body>
</body>
</html>
